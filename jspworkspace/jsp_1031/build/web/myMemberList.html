<!--
Document : myMemberList
Created on : 2014. 10. 31, 오후 4:50:10
Author : kosta
-->

<!DOCTYPE html>

<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="EUC-KR">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <style>
            .on{background: whitesmoke; color: white}
        </style>
        <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
        <script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
        <script>
            $(document).ready(function() {
                $('form').submit(function() {
                    //유효성 검사
                    if ($('input[name=id]').val() == '') {
                        alert('아이디를 입력하세요!');
                        $('input[name=id]').focus().addClass('on');
                        return false;
                    }
                    
                    if ($('input[name=psw]').val() == '') {
                        alert('비밀번호를 입력하세요!');
                        $('input[name=psw]').focus().addClass('on');
                        return false;
                    }
                    if ($('input[name=psw2]').val() == '') {
                        alert('비밀번호를 입력하세요!');
                        $('input[name=psw2]').focus().addClass('on');
                        return false;
                    }
                    if ($('input[name=psw]').val() != $('input[name=psw2]').val()) {
                        alert('비밀번호가 다름니다.!');
                        $('input[name=psw2]').focus().addClass('on');
                        return false;
                    }
                    if ($('input[name=name]').val() == '') {
                        alert('이름을 입력하세요!');
                        $('input[name=name]').focus().addClass('on');
                        return false;
                    }
                    if (!$('input[type=checkbox]').is(':checked')) {
                        alert('체크박스 하나 이상은 체크 되어야 합니다.!');
                        return false;
                    }
                });
                $('#allChk').click(function() {
                    var $chAll = $('input[type=checkbox]');
                    var chk = $chAll.is(':checked');
                    if (chk) {
                        $chAll.attr('checked', false);
                        $(this).val('전체선택');
                    } else {
                        $chAll.attr('checked', true);
                        $(this).val('전체해제');
                    }
                });
                 $('#btn').click(function (){
                   $.post('ex5_postData.jsp',$('#id').serialize(),
                   function (data){
                      alert(data);
                   });
                });
            });
            console.log($('input').val());
        </script>
    </head>
    <body>
        <div>
            <h1>회원가입</h1>
            <form method="post" action="test.jsp">
                <table>
                    <tr>
                        <td>아이디</td>
                        <td><input type="text" name="id" id="id">
                            <input type="button" value="중복확인" id="btn">
                        </td>
                    </tr>
                    <tr>
                        <td>비밀번호</td>
                        <td>
                            <input type="password" name="psw" id="psw">
                        </td>
                    </tr>
                    <tr>
                        <td>비밀번호 확인</td>
                        <td>
                            <input type="password" name="psw2" id="psw2">
                        </td>
                    </tr>
                    <tr>
                        <td>이름</td>
                        <td>
                            <input type="text" name="name" id="name">
                        </td>
                    </tr>
                    <tr>
                        <td>나이</td>
                        <td>
                            <input type="text" name="age" id="age">
                        </td>
                    </tr>
                    <tr>
                        <td>이멜</td>
                        <td>
                            <input type="text" name="email" id="email">
                        </td>
                    </tr>
                    <tr>
                        <td>취미 <input type="button" value="전체선택" id="allChk"></td>
                        <td>
                            <input type="checkbox" name="hb" class="hb" value="요리">요리
                            <hr>
                            <input type="checkbox" name="hb" class="hb" value="노래">노래
                            <hr>
                            <input type="checkbox" name="hb" class="hb" value="여행">여행
                            <hr>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <input type="submit" value="중복확인">
                        </td>
                    </tr>
                </table>
            </form>
        </div>

    </body>
</html>
